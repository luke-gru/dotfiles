Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2011-01-05T19:12:33.047634

====== make a smarter cart ======
//new Model://
class **CartItem**

	attr_reader :product, :quantity

	
	def intitialize(product)
		@product = product
		@quantity = 1
	end

	
	def increment_quantity
		@quantity += 1
	end

	
	def title														<<- override title attribute
		@product.title
	end

	
	def price														<<- override price attribute
		@product.price * @quantity
	end
end

//and, the other unwrapped Model://
class Cart
	attr_reader :items
	
	def initialize
		@items = []
	end

	
	def add_product(product)
		current_item = @items.find {|item| __item.product__ == product}				<<- every item in @item is in class CartItem. This is why we can call this meth.
		if current_item
			current_item__.increment_quantity__										<<- ditto
		else
			@items << CartItem.new(product)
		end
	end
end





