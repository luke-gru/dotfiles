Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2010-12-12T20:14:48.758930

====== Rails command line functions ======
//Load env: 		$rails console (--sandbox) (env)//
//Server:  //    		//$rails server --environment production//
//Migrations: 	$rake db:migrate RAILS_ENV=production									//<<- create production database

**Create application:**
Go into main rails_apps directory and type:
$__rails new [nameofnewrailsapp] (-T)__													<<- don't create test dir.

**Create database:**
$__rake db:create [RAILS_ENV='development']__												<<- //creates development database//

**Create Controller:**
$__rails generate controller__ [NameOfController (Pages) BECOMES (PagesController)]
**with specified actions:: **$__rails generate controller Store[Nameofcontroller] index[nameofaction]__

**Create model, controller, table:**
**with scaffold::**
__$rails generate scaffold [modelandcontrollername]__ //title://__string__// description://__text__// image_url: //__string__//       <<-- //[product] is the name of the Model AND the controller is called ProductsController. Rails associated it with a table called products (plural). The things in //itals// are columns in the table. Still have to apply the migration to the db.

**Apply unapplied migrations to database: creates table if model does not wrap table yet**
__$rake db:migrate__

**Rollback database migration(s):**
__$rake db:migrate VERSION=[n]__
VERSION is kept in the table //schema_migrations// in the development.sqlite3 database.
or...
__$rake db:rollback__ (the last migration)

**Create integration_test:**
__$rails generate integration_test__ name_of_integration_test

**Adding a column to a database table:**
__$rails generate migration add_price_to_product price:decimal__			<<-- still have the run //$rake db:migrate //to populate db. Adds //:price //as attribute(col.)
check db/migrate/[bottommost(recent)migration] to apply more arguments			syntac is **add_attribute_to_model**

**Adding a table to the database:**
__rake db:sessions(tablename):create__                                                          <<-- still have the run //$rake db:migrate// to populate

**Clearing sessions data from database: (internal 500 error)**
__$rake db:sessions:clear__ then go hit back on the browser fr

**Adding test data:**
__$rails generate migration add_test_data__			<<-- still have the run //$rake db:migrate //to populate



**Test::Unit, Rspec, etc...**
__$rake db:test:prepare	__							<<- copy development schema to test db
__$rake test:units__										<<- copy dev. schema to test db and run all unit tests
__$rake db:reset__										<<- redo all migrations, empty database
